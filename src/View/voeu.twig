{% extends "base.twig" %}

{% block page_content %}

    <div id="pageVoeu">
        <div class="miseEnPage2 centrer">
            <div class="alert alert-info alertVoeux">
                <div>
                    <p>Phase de vœu pour l'année {{ anneeService }}-{{ anneeService+1 }}</p>
                </div>
            </div>
            <div class="miseEnPage start">
                <div class="margin">
                    <a class="boutonAvecLienInfo" href="{{ route("services") }}">Afficher les services</a>
                </div>
            </div>
            <div class="miseEnPage">
                <div class="coteGauche service overflow">
                    <div class="miseEnPage">
                        <button class="boutonDisparition">-</button>
                        <div class="miseEnPage2">
                            <h2>Membres du département ({{ intervenantsAnnuelsEtDuDepartementNonVacataire|length }})</h2>
                            <div class="disparition">
                                {% if intervenantsAnnuelsEtDuDepartementNonVacataire|length > 0 %}
                                    {% set i = 0 %}
                                    {% for i in 0..intervenantsAnnuelsEtDuDepartementNonVacataire|length-1 %}
                                        <div class="miseEnPage2">
                                            <div class="infosServiceConteneur">
                                                {% if servicesAnnuelsNonVacataires[i] is not null %}
                                                    <button class="boutonDisparition">+</button>
                                                    <p class="infosService">{{ intervenantsAnnuelsEtDuDepartementNonVacataire[i].getNom }} {{ intervenantsAnnuelsEtDuDepartementNonVacataire[i].getPrenom }}
                                                        (
                                                        <data class="serviceStatuaire">{{ servicesAnnuelsNonVacataires[i].getServiceStatuaire }}</data>
                                                        /
                                                        <data class="serviceFait">{{ servicesAnnuelsNonVacataires[i].getServiceFait }}</data>
                                                        )
                                                    </p>
                                                    {% include "templates/editionServiceAnnuelNonVacataire.twig" %}
                                                {% else %}
                                                    <button class="boutonDisparition">+</button>
                                                    <p class="infosService">{{ intervenantsAnnuelsEtDuDepartementNonVacataire[i].getNom }} {{ intervenantsAnnuelsEtDuDepartementNonVacataire[i].getPrenom }}
                                                        (
                                                        <data class="serviceStatuaire">0</data>
                                                        /
                                                        <data class="serviceFait">0</data>
                                                        )
                                                    </p>
                                                    {% include "templates/editionServiceAnnuelNonVacataire.twig" %}
                                                {% endif %}
                                            </div>
                                            <div class="disparition2 affichageInfoService">
                                                {% for voeu in voeuxNonVacataires[i] %}
                                                    <div class="infosSupplementaires">
                                                        {{ voeu[0].idUSReferentiel }} :
                                                        {% set j = 0 %}
                                                        {% for voeuMemeId in voeu %}
                                                            {{ voeuMemeId.typeIntervention }} - {{ voeuMemeId.volumeHoraire }}
                                                            {% if j < voeu|length-1 %}
                                                                /
                                                            {% endif %}
                                                            {% set j = j + 1 %}
                                                        {% endfor %}
                                                    </div>
                                                {% endfor %}
                                            </div>
                                        </div>
                                        {% set i = i + 1 %}
                                    {% endfor %}
                                {% endif %}
                            </div>
                        </div>
                    </div>
                    <div class="miseEnPage">
                        <button class="boutonDisparition">-</button>
                        <div class="miseEnPage2">
                            <h2>Vacataires du département ({{ intervenantsAnnuelsEtDuDepartementVacataire|length }})</h2>
                            <div class="disparition">
                                {% if intervenantsAnnuelsEtDuDepartementVacataire|length > 0 %}
                                    {% set i = 0 %}
                                    {% for i in 0..intervenantsAnnuelsEtDuDepartementVacataire|length-1 %}
                                        <div class="miseEnPage2">
                                            <div class="infosServiceConteneur">
                                                {% if servicesAnnuelsVacataires[i] is not null %}
                                                    <button class="boutonDisparition">+</button>
                                                    <p class="infosService">{{ intervenantsAnnuelsEtDuDepartementVacataire[i].getNom }} {{ intervenantsAnnuelsEtDuDepartementVacataire[i].getPrenom }}
                                                        (
                                                        <data class="serviceStatuaire">{{ servicesAnnuelsVacataires[i].getServiceStatuaire }}</data>
                                                        /
                                                        <data class="serviceFait">{{ servicesAnnuelsVacataires[i].getServiceFait }}</data>
                                                        )
                                                    </p>
                                                    {% include "templates/editionServiceAnnuelVacataire.twig" %}
                                                {% else %}
                                                    <button class="boutonDisparition">+</button>
                                                    <p class="infosService">{{ intervenantsAnnuelsEtDuDepartementVacataire[i].getNom }} {{ intervenantsAnnuelsEtDuDepartementVacataire[i].getPrenom }}
                                                        (
                                                        <data class="serviceStatuaire">0</data>
                                                        /
                                                        <data class="serviceFait">0</data>
                                                        )
                                                    </p>
                                                    {% include "templates/editionServiceAnnuelVacataire.twig" %}
                                                {% endif %}
                                            </div>
                                            <div class="disparition2 affichageInfoService">
                                                {% for voeu in voeuxVacataires[i] %}
                                                    <div class="infosSupplementaires">
                                                        {{ voeu[0].idUsReferentiel }} :
                                                        {% set j = 0 %}
                                                        {% for voeuMemeId in voeu %}
                                                            {{ voeuMemeId.typeIntervention }} - {{ voeuMemeId.volumeHoraire }}
                                                            {% if j < voeu|length-1 %}
                                                                /
                                                            {% endif %}
                                                            {% set j = j + 1 %}
                                                        {% endfor %}
                                                    </div>
                                                {% endfor %}
                                            </div>
                                        </div>
                                        {% set i = i + 1 %}
                                    {% endfor %}
                                {% endif %}
                            </div>
                        </div>
                    </div>
                </div>
                <div class="coteDroit service overflow">
                    <div class="miseEnPage">
                        <button class="boutonDisparition">-</button>
                        <div class="miseEnPage2 maxWidth">
                            <h2>Département</h2>
                            <div class="disparition">
                                <div class="miseEnPage">
                                    <button class="boutonDisparition">-</button>
                                    <div class="miseEnPage2">
                                        <h2>Printemps</h2>
                                        {% set tab = ["Licence Semestre 1", "Licence Semestre 2", "Licence Semestre 3", "Licence Semestre 4", "Licence Semestre 5",
                                            "Licence Semestre 6", "Master Semestre 1", "Master Semestre 2", "Master Semestre 3", "Master Semestre 4", "N/A"] %}
                                        <div class="disparition">
                                            {% for i in 0..10 %}
                                                {% if usaPrintemps[i]|length > 0 %}
                                                    <div class="miseEnPage2">
                                                        <div class="miseEnPage">
                                                            <button class="boutonDisparition">-</button>
                                                            <div class="miseEnPage2">
                                                                <h2>{{ tab[i] }}</h2>
                                                                <div class="disparition">
                                                                    {% for j in 0..usaPrintemps[i]|length-1 %}
                                                                        <div class="miseEnPage2">
                                                                            <div class="infosServiceConteneur">
                                                                                <button class="boutonDisparition">+</button>
                                                                                <p class="infosService2">{{ usPrintemps[i][j].getIdUSReferentiel }}
                                                                                    {{ usaPrintemps[i][j].getLibUSA }}
                                                                                </p>
                                                                            </div>
                                                                        </div>
                                                                    {% endfor %}
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                {% endif %}
                                            {% endfor %}
                                        </div>
                                    </div>
                                </div>
                                <div class="miseEnPage">
                                    <button class="boutonDisparition">-</button>
                                    <div class="miseEnPage2">
                                        <h2>Automne</h2>
                                        {% set tab = ["Licence Semestre 1", "Licence Semestre 2", "Licence Semestre 3", "Licence Semestre 4", "Licence Semestre 5",
                                            "Licence Semestre 6", "Master Semestre 1", "Master Semestre 2", "Master Semestre 3", "Master Semestre 4", "N/A"] %}
                                        <div class="disparition">
                                            {% for i in 0..10 %}
                                                {% if usaAutomne[i]|length > 0 %}
                                                    <div class="miseEnPage2">
                                                        <div class="miseEnPage">
                                                            <button class="boutonDisparition">-</button>
                                                            <div class="miseEnPage2">
                                                                <h2>{{ tab[i] }}</h2>
                                                                <div class="disparition">
                                                                    {% for j in 0..usaAutomne[i]|length-1 %}
                                                                        <div class="miseEnPage2">
                                                                            <div class="infosServiceConteneur">
                                                                                <button class="boutonDisparition">+</button>
                                                                                <p class="infosService2">{{ usAutomne[i][j].getIdUSReferentiel }}
                                                                                    {{ usaAutomne[i][j].getLibUSA }}
                                                                                </p>
                                                                            </div>
                                                                        </div>
                                                                    {% endfor %}
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                {% endif %}
                                            {% endfor %}
                                        </div>
                                    </div>
                                </div>
                                <div class="miseEnPage">
                                    <button class="boutonDisparition">-</button>
                                    <div class="miseEnPage2">
                                        <h2>Annuel</h2>
                                        {% set tab = ["Licence Semestre 1", "Licence Semestre 2", "Licence Semestre 3", "Licence Semestre 4", "Licence Semestre 5",
                                            "Licence Semestre 6", "Master Semestre 1", "Master Semestre 2", "Master Semestre 3", "Master Semestre 4", "N/A"] %}
                                        <div class="disparition">
                                            {% for i in 0..10 %}
                                                {% if usaAnnuel[i]|length > 0 %}
                                                    <div class="miseEnPage2">
                                                        <div class="miseEnPage">
                                                            <button class="boutonDisparition">-</button>
                                                            <div class="miseEnPage2">
                                                                <h2>{{ tab[i] }}</h2>
                                                                <div class="disparition">
                                                                    {% for j in 0..usaAnnuel[i]|length-1 %}
                                                                        <div class="miseEnPage2">
                                                                            <div class="infosServiceConteneur">
                                                                                <button class="boutonDisparition">+</button>
                                                                                <p class="infosService2">{{ usAnnuel[i][j].getIdUSReferentiel }}
                                                                                    {{ usaAnnuel[i][j].getLibUSA }}
                                                                                </p>
                                                                            </div>
                                                                        </div>
                                                                    {% endfor %}
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                {% endif %}
                                            {% endfor %}
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="miseEnPage">
                        <button class="boutonDisparition">-</button>
                        <div class="miseEnPage2 maxWidth">
                            <h2>Coloration</h2>
                            <div class="disparition">
                                <div class="miseEnPage">
                                    <button class="boutonDisparition">-</button>
                                    <div class="miseEnPage2">
                                        <h2>Printemps</h2>
                                        {% set tab = ["Licence Semestre 1", "Licence Semestre 2", "Licence Semestre 3", "Licence Semestre 4", "Licence Semestre 5",
                                            "Licence Semestre 6", "Master Semestre 1", "Master Semestre 2", "Master Semestre 3", "Master Semestre 4", "N/A"] %}
                                        <div class="disparition">
                                            {% for i in 0..10 %}
                                                {% if usaColorationPrintemps[i]|length > 0 %}
                                                    <div class="miseEnPage2">
                                                        <div class="miseEnPage">
                                                            <button class="boutonDisparition">-</button>
                                                            <div class="miseEnPage2">
                                                                <h2>{{ tab[i] }}</h2>
                                                                <div class="disparition">
                                                                    {% for j in 0..usaColorationPrintemps[i]|length-1 %}
                                                                        <div class="miseEnPage2">
                                                                            <div class="infosServiceConteneur">
                                                                                <button class="boutonDisparition">+</button>
                                                                                <p class="infosService2">{{ usColorationPrintemps[i][j].getIdUSReferentiel }}
                                                                                    {{ usaColorationPrintemps[i][j].getLibUSA }}
                                                                                </p>
                                                                            </div>
                                                                        </div>
                                                                    {% endfor %}
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                {% endif %}
                                            {% endfor %}
                                        </div>
                                    </div>
                                </div>
                                <div class="miseEnPage">
                                    <button class="boutonDisparition">-</button>
                                    <div class="miseEnPage2">
                                        <h2>Automne</h2>
                                        {% set tab = ["Licence Semestre 1", "Licence Semestre 2", "Licence Semestre 3", "Licence Semestre 4", "Licence Semestre 5",
                                            "Licence Semestre 6", "Master Semestre 1", "Master Semestre 2", "Master Semestre 3", "Master Semestre 4", "N/A"] %}
                                        <div class="disparition">
                                            {% for i in 0..10 %}
                                                {% if usaColorationAutomne[i]|length > 0 %}
                                                    <div class="miseEnPage2">
                                                        <div class="miseEnPage">
                                                            <button class="boutonDisparition">-</button>
                                                            <div class="miseEnPage2">
                                                                <h2>{{ tab[i] }}</h2>
                                                                <div class="disparition">
                                                                    {% for j in 0..usaColorationAutomne[i]|length-1 %}
                                                                        <div class="miseEnPage2">
                                                                            <div class="infosServiceConteneur">
                                                                                <button class="boutonDisparition">+</button>
                                                                                <p class="infosService2">{{ usColorationAutomne[i][j].getIdUSReferentiel }}
                                                                                    {{ usaColorationAutomne[i][j].getLibUSA }}
                                                                                </p>
                                                                            </div>
                                                                        </div>
                                                                    {% endfor %}
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                {% endif %}
                                            {% endfor %}
                                        </div>
                                    </div>
                                </div>
                                <div class="miseEnPage">
                                    <button class="boutonDisparition">-</button>
                                    <div class="miseEnPage2">
                                        <h2>Annuel</h2>
                                        {% set tab = ["Licence Semestre 1", "Licence Semestre 2", "Licence Semestre 3", "Licence Semestre 4", "Licence Semestre 5",
                                            "Licence Semestre 6", "Master Semestre 1", "Master Semestre 2", "Master Semestre 3", "Master Semestre 4", "N/A"] %}
                                        <div class="disparition">
                                            {% for i in 0..10 %}
                                                {% if usaColorationAnnuel[i]|length > 0 %}
                                                    <div class="miseEnPage2">
                                                        <div class="miseEnPage">
                                                            <button class="boutonDisparition">-</button>
                                                            <div class="miseEnPage2">
                                                                <h2>{{ tab[i] }}</h2>
                                                                <div class="disparition">
                                                                    {% for j in 0..usaColorationAnnuel[i]|length-1 %}
                                                                        <div class="miseEnPage2">
                                                                            <div class="infosServiceConteneur">
                                                                                <button class="boutonDisparition">+</button>
                                                                                <p class="infosService2">{{ usColorationAnnuel[i][j].getIdUSReferentiel }}
                                                                                    {{ usaColorationAnnuel[i][j].getLibUSA }}
                                                                                </p>
                                                                            </div>
                                                                        </div>
                                                                    {% endfor %}
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                {% endif %}
                                            {% endfor %}
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="miseEnPage">
                        <button class="boutonDisparition">-</button>
                        <div class="miseEnPage2">
                            <h2>Référentiels</h2>
                            <div class="disparition">
                                {% if referentiels|length > 0 %}
                                    {% for i in 0..referentiels|length-1 %}
                                        <div class="miseEnPage2">
                                            <div class="infosServiceConteneur">
                                                {% if referentiels[i] is not null %}
                                                    <button class="boutonDisparition">+</button>
                                                    <p class="infosService2">{{ referentiels[i][1].getIdUSReferentiel }}
                                                        {{ referentiels[i][0].getLibUSA }}</p>
                                                {% endif %}
                                            </div>
                                        </div>
                                    {% endfor %}
                                {% endif %}
                            </div>
                        </div>
                    </div>
                    <div class="miseEnPage">
                        <button class="boutonDisparition">-</button>
                        <div class="miseEnPage2">
                            <h2>Décharges</h2>
                            <div class="disparition">
                                {% if decharges|length > 0 %}
                                    {% for i in 0..decharges|length-1 %}
                                        <div class="miseEnPage2">
                                            <div class="infosServiceConteneur">
                                                {% if decharges[i] is not null %}
                                                    <button class="boutonDisparition">+</button>
                                                    <p class="infosService2">{{ decharges[i][1].getIdUSReferentiel }}
                                                        {{ decharges[i][0].getLibUSA }}</p>
                                                {% endif %}
                                            </div>
                                        </div>
                                    {% endfor %}
                                {% endif %}
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
{% endblock %}